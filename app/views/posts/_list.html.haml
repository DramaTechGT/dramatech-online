%script
%table.table.table-striped.table-responsive
  %thead
    %tr
      %th= smart_listing.sortable "Name", "name"
      - unless @category
        %th Category
      %th= smart_listing.sortable "Publish Date", "publish_date"
      %th{colspan: '3'}
  %tbody
    - smart_listing.collection.each do |post|
      %tr
        %td= link_to post.title, post, class: 'btn btn-sm btn-link'
        - unless @category
          %td= post.category.name
        %td= post.publish_date.to_formatted_s(:short)
        %td{width: 40}= link_to 'Show', post, class: 'btn btn-sm btn-primary modal-link'
        %td{width: 40}= link_to 'Edit', edit_post_path(post), class: 'btn btn-sm btn-warning modal-link'
        %td{width: 40}= link_to 'Delete', post, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-sm btn-danger'
= smart_listing.paginate
= smart_listing.pagination_per_page_links